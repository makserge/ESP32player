	Инсталляция шрифтов CYR-RFX
        ===========================

	I. Обзор
        ========

Процедура инсталляции весьма проста: сначала следует распаковать файлы
из архива в какую-нибудь директорию, а затем указать их X-серверу (т.е.
добавить к списку шрифтовых директорий сервера).

На обоих шагах есть по две альтернативы.  Во-первых, метод инсталляции:
для всей системы (если Вы администратор) или же для персонального
использования (если у Вас просто есть эккаунт где-нибудь и нужны данные
шрифты).  Во-вторых, Вы можете захотеть сделать так, чтобы у новых
шрифтов был приоритет перед стандартными при подборе по шаблонам
(wildcards) и псевдонимам (aliases).

В нижеприведенных примерах замените "ENCODING" на инсталлируемую
кодировку ("koi8-1", "iso8859-15", etc.).


	II. Установка для всей системы
        ==============================

0. Станьте root'ом ;-)

1. Сначала распакуйте архив в <XRoot>/lib/X11/fonts/ (в случае X11R6
<XRoot>  обычно /usr/X11R6, и /usr/openwin в Sun OpenWindows):

	gzip -dc cyr-rfx_ENCODING-1.0.tgz | tar xf - -C /usr/X11R6/lib/X11/fonts/

Файлы .tgz упакованы с user=root и uid=root, но если у Вы предпочитаете
быть в этих вопросах параноиком (как я сам ;), то воспользуйтесь
командой

	chown -R 0:0 /usr/X11R6/lib/X11/fonts/ENCODING

2. Затем следует проинструктировать X-сервер, чтобы он "подхватывал"
шрифты при старте.  Т.е. новые директории надо добавить к "font path"
сервера.

Возможны два варианта.

2a. Если Ваш X-сервер "рендерит" шрифты сам, то список "font path"
определяется директивами "FontPath" в его файле конфигурации. (При
использовании XFree86 на компьютерах IntelX86 это обычно файл
/etc/X11/XF86Config или /usr/X11R6/lib/X11/XF86Config.)

В этом случае просто добавьте две директивы "FontPath" прямо перед или
после имеющегося списка, так что он станет выглядеть примерно так:

	FontPath    "/usr/X11R6/lib/X11/fonts/ENCODING/misc/"
	FontPath    "/usr/X11R6/lib/X11/fonts/ENCODING/75dpi/"
	FontPath    "/usr/X11R6/lib/X11/fonts/misc/"
	FontPath    "/usr/X11R6/lib/X11/fonts/Type1/"
	. . .

(были добавлены первые две строки).

2b. Если Ваш X-сервер пользуется услугами font-сервера (xfs), то
единственная директива "FontPath", вероятно, будет указывать на
"unix/:-1" (к примеру, это так в RedHat Linux 6.x).  В этом случае
список определяется директивой "catalogue=" файла конфигурации xfs
(обычно это файл /etc/X11/fs/config или /usr/X11R6/lib/X11/fs/config).

Итак, добавьте два пункта в "catalogue=" (не забывая про разделительные
запятые!), так что она станет выглядеть примерно так:

	catalogue=/usr/X11R6/lib/X11/fonts/ENCODING/misc,
		/usr/X11R6/lib/X11/fonts/ENCODING/75dpi/,
		/usr/X11R6/lib/X11/fonts/misc,
		/usr/X11R6/lib/X11/fonts/75dpi,
		. . .

В обоих случаях новая конфигурация вступит в силу после перезапуска.
(Или же Вы можете начать использовать шрифты немедленно, вручную набрав
"xset +fp..." в первом случае, или же послав SIGHUP font-серверу и
набрав "xset fp rehash" во втором.)


	III. Персональная инсталляция
        =============================

1. Сначала распакуйте архив куда-нибудь в свою home-директорию.
Например, чтобы использовать ~/fonts/ в качестве персональной
директории шрифтов, выполните следующие команды:

	mkdir ~/fonts
	gzip -dc cyr-rfx_ENCODING-1.0.tgz | tar xf - -C ~/fonts/

2. Затем, новые директории должны добавляться к "font path" X-сервера
при его запуске.  Этого можно достичь, вставив команды

	xset +fp ~/fonts/ENCODING/misc
	xset +fp ~/fonts/ENCODING/75dpi

в начало одного из стартовых файлов X -- обычно ~/.xinitrc, ~/.Xclients
или ~/.xsession.  Используйте "xset fp+" вместо "xset +fp", чтобы
добавлять директории в конец "font path" вместо начала.


	IV. Общие замечания
        ===================

1. Чтобы уменьшить объем занимаемого дискового пространства, можно
сжать шрифты.  Для этого надо применить команду "gzip" (или "compress")
ко всем .pcf-файлам в каждой директории и затем обновить файл fonts.dir
командой "mkfontdir".

Например, чтобы сжать все шрифты в  /usr/X11R6/lib/X11/koi8-1/75dpi,
выполните следующие команды:

	gzip /usr/X11R6/lib/X11/koi8-1/75dpi/*.pcf
	mkfontdir /usr/X11R6/lib/X11/koi8-1/75dpi


2. Можно сделать так, чтобы новые шрифты имели приоритет перед
стандартными (например, чтобы большинство программ использовало шрифты
koi8 вместо латинских, или для использования шрифтов iso8859-15 вместо
iso8859-1).  Для этого надо поставить новые директории в начало "font
path", иначе -- в конец.

3. Возможно, у Вас возникнет желание "поиграть" с атрибутом
":unscaled", поддерживаемым новыми версиями XFree86 (>=3.1.2).

В этом случае следует добавить обе директории к "font path" дважды:
сначала как "dir:unscaled", а затем (после директорий с векторными
шрифтами) как обычно. Т.е. весь "font path" может выглядеть
приблизительно так:

	/usr/X11R6/lib/X11/fonts/ENCODING/misc:unscaled
	/usr/X11R6/lib/X11/fonts/misc:unscaled
	/usr/X11R6/lib/X11/fonts/ENCODING/75dpi:unscaled
	/usr/X11R6/lib/X11/fonts/75dpi:unscaled
	/usr/X11R6/lib/X11/fonts/ENCODING/misc
	/usr/X11R6/lib/X11/fonts/misc
	/usr/X11R6/lib/X11/fonts/Type1
	/usr/X11R6/lib/X11/fonts/Speedo
	/usr/X11R6/lib/X11/fonts/ENCODING/75dpi
	/usr/X11R6/lib/X11/fonts/75dpi

______________________________________________________________________
	(C) 2000 Дмитрий Болховитянов <bolkhov@inp.nsk.su>
